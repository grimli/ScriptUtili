### Global Directives
checktimeout=10
checkinterval=2
autoreload=yes
logfile="/var/log/ldirectord.log"
quiescent=yes
emailalertfreq=1800
emailalert="it.sysadmin@populis.com"

# Outer DNS service towards NS cluster (transfer service over TCP)
virtual=10.0.16.1:domain
        real=10.0.240.8:domain gate 1
        real=10.0.240.9:domain gate 1
        service=dns
        checktype=negotiate
        request="vip-ldap.de.prod"
        receive="10.0.16.24"
        scheduler=wrr
        protocol=tcp

# Outer DNS service towards NS cluster
virtual=10.0.16.1:domain
        real=10.0.240.8:domain gate 1
        real=10.0.240.9:domain gate 1
        service=dns
        checktype=negotiate
        request="vip-ldap.de.prod"
        receive="10.0.16.24"
        scheduler=rr
        protocol=udp

# Virtual Server for excite  web53
virtual=10.0.16.2:www
        real=10.0.96.112:www gate 100
        real=10.0.96.113:www gate 100
        real=10.0.96.114:www gate 100
        real=10.0.96.115:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for Static-squid WEB Services
virtual=10.0.16.3:www
        real=10.0.32.2:www gate 50
        real=10.0.32.3:www gate 50
        service=http
        request="/.testpage"
        receive="test"
        scheduler=wrr
        protocol=tcp

# Virtual Server for Betterdeals
virtual=10.0.16.4:www
        real=10.0.80.1:www gate 100
        real=10.0.80.2:www gate 100
        real=10.0.80.3:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for Static-apache WEB Services
virtual=10.0.16.5:www
        real=10.0.32.1:www gate 5
        real=10.0.32.4:www gate 5
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed

# Virtual Server for Blogoit-web54
virtual=10.0.16.7:www
        real=10.0.80.104:www gate 100
        real=10.0.80.105:www gate 100
        real=10.0.80.106:www gate 100
        real=10.0.80.107:www gate 100
        real=10.0.80.108:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed

# Virtual Server for extranet-web54
virtual=10.0.16.65:www
        real=10.0.80.101:www gate 140
        real=10.0.80.102:www gate 100
        real=10.0.80.103:www gate 100
        real=10.0.80.104:www gate 100
	service=http
	request="/.testpage"
	receive="test"
	scheduler=sed

# Virtual Server for Static-apache populis WEB Services
virtual=10.0.16.57:www
        real=10.0.32.1:www gate 5
        real=10.0.32.4:www gate 5
        #real=10.0.32.5:www gate 5
        #real=10.0.32.8:www gate 5
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed

# Virtual Server for social.populis.com WEB Services
virtual=10.0.16.58:www
        real=10.0.96.6:www gate 100
        real=10.0.96.7:www gate 100
        real=10.0.96.8:www gate 100
        service=http
        request="/.testpage"
        receive="test"

# Virtual Server for retargeting.populis.com WEB Services
virtual=10.0.16.59:www
        real=10.0.96.6:www gate 100
        real=10.0.96.7:www gate 100
        service=http
        request="/.testpage"
        receive="test"

# Virtual Server for iframe Blogo WEB53 Service
virtual=10.0.16.10:443
        real=10.0.96.102:443 gate 140
        real=10.0.96.103:443 gate 140
        real=10.0.96.104:443 gate 140
        real=10.0.96.105:443 gate 140
        real=10.0.96.106:443 gate 140
        real=10.0.96.107:443 gate 100
        real=10.0.96.109:443 gate 100
        real=10.0.96.110:443 gate 100
        real=10.0.96.111:443 gate 100
        real=10.0.96.131:443 gate 100
        real=10.0.96.132:443 gate 100
	service=https
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp
        persistent=1
        checktype=negotiate

# Virtual Server for Blogo WEB53 Service
virtual=10.0.16.10:www
        real=10.0.96.102:www gate 140
        real=10.0.96.103:www gate 140
        real=10.0.96.104:www gate 140
        real=10.0.96.105:www gate 140
        real=10.0.96.106:www gate 140
        real=10.0.96.107:www gate 100
	real=10.0.96.117:www gate 100
        real=10.0.96.109:www gate 100
        real=10.0.96.110:www gate 100
        real=10.0.96.111:www gate 100
        real=10.0.96.131:www gate 100
        real=10.0.96.132:www gate 100
#####################################
# durante le dirette delle partite
#####################################
        real=10.0.96.112:www gate 80
        real=10.0.96.113:www gate 80
        real=10.0.96.114:www gate 80
        real=10.0.96.115:www gate 80
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for AdNetwork WEB Services
virtual=10.0.16.11:www
         real=10.0.96.6:www gate 100
         real=10.0.96.7:www gate 100
         real=10.0.96.8:www gate 100
         service=http
         request="/.testpage"
         receive="test"
         scheduler=sed
         protocol=tcp

# Virtual Server for AdNetwork WEB Services ssl
virtual=10.0.16.11:443
         real=10.0.80.1:443 gate 100
         real=10.0.80.2:443 gate 100
         real=10.0.80.3:443 gate 100
         service=https
         request="/.testpage"
         receive="test"
         scheduler=sed
         protocol=tcp
         persistent=1
         checktype=negotiate

# Virtual Server for AS WEB Services
virtual=10.0.16.12:www
        real=10.0.96.6:www gate 100
        real=10.0.96.7:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for KOEGO WEB Services
virtual=10.0.16.15:www
        real=10.0.96.6:www gate 100
        real=10.0.96.7:www gate 100
        real=10.0.96.8:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for CMP WEB Services
virtual=10.0.16.16:www
        real=10.0.96.7:www gate 100
        real=10.0.96.6:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for Wordpress WEB Services
virtual=10.0.16.17:www
        real=10.0.240.29:www gate 50
        real=10.0.80.4:www gate 50
        service=http
        request="/.testpage.php"
        receive="OK"
        scheduler=sed
        protocol=tcp
        checktype=negotiate

# Virtual Server for Cerca.Blogosfere.it
virtual=10.0.16.18:www
        real=10.0.96.6:www gate 100
        real=10.0.96.7:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for verticali web54 geoloc_it
virtual=10.0.16.19:www
        real=10.0.80.111:www gate 100
        real=10.0.80.112:www gate 100
        real=10.0.80.117:www gate 100
        real=10.0.80.118:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for Intra WEB Services
virtual=10.0.16.20:www
        real=10.0.96.6:www gate 100
        real=10.0.96.7:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for Intra SSL WEB Services
virtual=10.0.16.20:443
        real=10.0.96.6:443 gate 100
        real=10.0.96.7:443 gate 100
        service=https
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp
        checktype=negotiate

# Virtual Server for Corporate WEB Services
virtual=10.0.16.21:www
        real=10.0.96.8:www gate 100
        real=10.0.96.7:www gate 100
        real=10.0.96.6:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=wrr
        protocol=tcp

# Virtual Server for LP VF WEB Services
virtual=10.0.16.23:www
        real=10.0.96.6:www gate 100
        real=10.0.96.7:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for ldap
virtual=10.0.16.24:389
       real=10.0.240.20:389 gate 1
       real=10.0.240.21:389 gate 1
       service=ldap
       checkport=389
       login="cn=monitor,dc=populis,dc=com"
       passwd="...m0n1t0r..."
       scheduler=wrr
       protocol=tcp
       checktype=negotiate

# Virtual Server for iframe Blogo WEB53 Service
virtual=10.0.16.25:80
        real=10.0.96.129:80 gate 140
        real=10.0.96.130:80 gate 140
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp
        checktype=negotiate


# Virtual Server for ldap
virtual=10.0.16.26:80
       #real=10.0.240.8:80 gate 65535
        real=10.0.240.9:80 gate 1
       service=http
       request="index.html"
       receive="It works!"
       scheduler=wrr
       protocol=tcp
       checktype=negotiate

# Virtual Server for RPC CS Services
virtual=10.0.16.30:www
        real=10.0.48.1:www gate 1
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp
        checktype=negotiate

# Virtual Server for RPC RPC Services
virtual=10.0.16.31:www
        real=10.0.48.4:www gate 1
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for RPC midb00k Services
virtual=10.0.16.32:www
        real=10.0.48.1:www gate 1
        real=10.0.48.4:www gate 1
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for EXCITE.EU
virtual=10.0.16.22:www
	real=10.0.96.6:www gate 100
        real=10.0.96.7:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for blogo python web-fe 
virtual=10.0.16.46:www
        real=10.0.232.240:www gate 10
        real=10.0.232.241:www gate 10
        service=http
        request="/.testpage.html"
        receive="test"
        scheduler=wrr
        protocol=tcp

# Virtual Server for blogo mysql Master-Master
virtual=10.0.16.47:mysql
        #real=10.0.112.50:mysql gate 1
        real=10.0.112.51:mysql gate 1
        service=mysql
        login="monitor"
        passwd="...m0n1t0r..."
        database="mysql"
        request="select (1) from user"
        scheduler=wrr
        protocol=tcp

# Virtual Server for vip-mw-roi (a/a)
virtual=10.0.16.50:mysql
        real=10.0.112.19:mysql gate 1
        real=10.0.112.20:mysql gate 1
        service=mysql
        login="monitor"
        passwd="...m0n1t0r..."
        database="mysql"
        request="select (1) from user"
        scheduler=sed
        protocol=tcp

# Virtual Server for vip-my55-roi (a/p - write)
virtual=10.0.16.111:mysql
        real=10.0.112.1:mysql gate 1
        fallback=10.0.112.2:mysql 
        service=mysql
        login="monitor"
        passwd="...m0n1t0r..."
        database="mysql"
        request="select (1) from user"
        scheduler=sed
        protocol=tcp

# Virtual Server for vip-my55-roi (p/a - read)
virtual=10.0.16.113:mysql
        real=10.0.112.2:mysql gate 1
        fallback=10.0.112.1:mysql 
        service=mysql
        login="monitor"
        passwd="...m0n1t0r..."
        database="mysql"
        request="select (1) from user"
        scheduler=sed
        protocol=tcp

# Virtual Server for vip-fe-roi
virtual=10.0.16.112:www
        real=10.0.80.4:www gate 1
        real=10.0.240.29:www gate 1
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp
        checktype=negotiate

# Virtual Server for blogosfere mysql Master-Master vIP-53 my51-blogosfere
virtual=10.0.16.53:mysql
        real=10.0.112.50:mysql gate 1
#        real=10.0.112.51:mysql gate 1
        service=mysql
        login="monitor"
        passwd="...m0n1t0r..."
        database="mysql"
        request="select (1) from user"
        scheduler=wrr
        protocol=tcp

## Virtual Server for Blogosfere websites
virtual=10.0.16.55:www
        real=10.0.233.1:www gate 100
        real=10.0.233.2:www gate 100
        service=http
        request="/.testpage"
	receive="test"
        scheduler=sed
        protocol=tcp
        checktype=negotiate

# Virtual Server for Piwik (stats.populis.com) WEB Services
virtual=10.0.16.56:www
        real=10.0.240.29:www gate 50
        real=10.0.80.4:www gate 50
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp
        checktype=negotiate

# Virtual Server for Extranet WEB53
virtual=10.0.16.60:www
        real=10.0.96.112:www gate 100
        real=10.0.96.113:www gate 100
        real=10.0.96.114:www gate 100
        real=10.0.96.115:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp
        checktype=negotiate

# Virtual Server for Intranet WEB Services
virtual=10.0.16.61:www
        real=10.0.96.6:www gate 100
        real=10.0.96.7:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp
        checktype=negotiate

# Virtual Server for New Intranet SSL WEB Services
virtual=10.0.16.61:443
        real=10.0.96.6:443 gate 100
        real=10.0.96.7:443 gate 100
        service=https
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp
        checktype=negotiate

# Virtual Server for Community-web54
virtual=10.0.16.62:www
        real=10.0.80.107:www gate 100
        real=10.0.80.108:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed

# Virtual Server for Sphinx Services vIP-66 sphinx persistent for blogo
virtual=10.0.16.62:9312
        real=10.0.98.211:9312 gate 100
#        real=10.0.98.212:9312 gate 100
        scheduler=sed
        protocol=tcp
	persistent=10

# Virtual Server for oroscopo.blogo.it  
virtual=10.0.16.63:www
	real=10.0.80.41:www gate 100
	real=10.0.80.42:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp
        checktype=negotiate

# Virtual Server for web54 verticali admin 
virtual=10.0.16.64:www
        real=10.0.80.51:www gate 100
        real=10.0.80.52:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for New Intranet SSL WEB Services
virtual=10.0.16.64:443
        real=10.0.80.51:443 gate 100
        real=10.0.80.52:443 gate 100
        service=https
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp
        checktype=negotiate

# Virtual Server for dicas.automovelblog and dicas.dasmariasblog
virtual=10.0.16.66:www
 	real=10.0.80.115:www gate 100
	real=10.0.80.116:www gate 100
	service=http
	request="/.testpage"
	receive="test"
	scheduler=sed
	protocol=tcp

# Virtual Server for Intra
virtual=10.0.16.68:www
        real=10.0.96.112:www gate 100
        real=10.0.96.113:www gate 100
        real=10.0.96.114:www gate 100
        real=10.0.96.115:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for Intra web53-xx Services ssl
virtual=10.0.16.68:443
         real=10.0.96.113:443 gate 100
         real=10.0.96.114:443 gate 100
         real=10.0.96.115:443 gate 100
         service=https
         request="/.testpage"
         receive="test"
         scheduler=sed
         protocol=tcp
         persistent=1
         checktype=negotiate

# Virtual Server for blogapp slave
virtual=10.0.16.69:mysql
        real=10.0.112.17:mysql gate 100
        real=10.0.112.18:mysql gate 100
        real=10.0.112.14:mysql gate 80
        service=mysql
        login="monitor"
        passwd="...m0n1t0r..."
        database="mysql"
        request="select (1) from user"
        scheduler=sed
        protocol=tcp

# Virtual Server for my55-slave generic
virtual=10.0.16.73:mysql
        real=10.0.112.16:mysql gate 100
        real=10.0.112.25:mysql gate 100
        real=10.0.112.26:mysql gate 100
        service=mysql
        login="monitor"
        passwd="...m0n1t0r..."
        database="mysql"
        request="select (1) from user"
        scheduler=sed
        protocol=tcp

# Virtual Server for CMP and PPN WEB53 Services
virtual=10.0.16.71:www
        real=10.0.96.114:www gate 100
        real=10.0.96.115:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for ADMAPI, Community, intranet
virtual=10.0.16.77:www
        real=10.0.96.112:www gate 100
        real=10.0.96.113:www gate 100
        real=10.0.96.114:www gate 100
        real=10.0.96.115:www gate 100
        real=10.0.96.117:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for Intranet web53-xx Services ssl
virtual=10.0.16.77:443
         real=10.0.96.113:443 gate 100
         real=10.0.96.114:443 gate 100
         real=10.0.96.115:443 gate 100
	 service=https
         request="/.testpage"
         receive="test"
         scheduler=sed
         protocol=tcp
         checktype=negotiate

#Virtual Server for m.nano-publishing.com
virtual=10.0.16.78:www
        real=10.0.96.122:www gate 100
        real=10.0.96.123:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for Service WEB Services
virtual=10.0.16.79:www
        real=10.0.96.6:www gate 100
        real=10.0.96.7:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for Track WEB Services
virtual=10.0.16.80:www
        real=10.0.96.6:www gate 100
        real=10.0.96.7:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=wrr
        protocol=tcp

# Virtual Server for DE VF WEB Services vIP-88 DE VF
virtual=10.0.16.88:www
        real=10.0.96.6:www gate 100
        real=10.0.96.7:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for blogapp (ex Excite 5) Services vIP-97 excite-5
virtual=10.0.16.97:www
        real=10.0.96.119:www gate 100
        real=10.0.96.120:www gate 100
        real=10.0.96.121:www gate 100
        real=10.0.96.122:www gate 100
        real=10.0.96.123:www gate 100
	real=10.0.96.124:www gate 100
	real=10.0.96.125:www gate 100
        real=10.0.96.126:www gate 100
        real=10.0.96.127:www gate 100
        real=10.0.96.128:www gate 100
#        real=10.0.96.129:www gate 100
#        real=10.0.96.130:www gate 100
##        real=10.0.96.131:www gate 100
#        real=10.0.96.132:www gate 100
#        real=10.0.96.134:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed
        protocol=tcp

# Virtual Server for Secure.blog.de Services ssl
virtual=10.0.16.97:443
         real=10.0.96.120:443 gate 100
         real=10.0.96.121:443 gate 100
	 real=10.0.96.124:443 gate 100
         service=https
         request="/.testpage"
         receive="test"
         scheduler=sed
         protocol=tcp
	 persistent=1
         checktype=negotiate

# Virtual Server for Sphinx Services  vIP-99 sphinx
virtual=10.0.16.99:9312
        real=10.0.98.211:9312 gate 100
        real=10.0.98.212:9312 gate 100
        scheduler=wrr
        protocol=tcp

# Virtual Server for Excite-web54
virtual=10.0.16.101:www
        real=10.0.80.107:www gate 100
        real=10.0.80.108:www gate 100
        service=http
        request="/.testpage"
        receive="test"
        scheduler=sed


# Virtual Server for mysql Slave vIP-102 Blogo
virtual=10.0.16.102:mysql
        real=10.0.112.51:mysql gate 10 
        real=10.0.112.50:mysql gate 10
        service=mysql
        login="monitor"
        passwd="...m0n1t0r..."
        database="mysql"
        request="select (1) from user"
        scheduler=sed
        protocol=tcp
        checktype=negotiate

## Virtual Server for vip-mdb10-slave.de.prod 
virtual=10.0.16.103:mysql
        real=10.0.240.60:mysql gate 100
	real=10.0.240.61:mysql gate 100
        service=mysql
        login="monitor"
        passwd="...m0n1t0r..."
        database="mysql"
        request="select (1) from user"
        scheduler=sed
        protocol=tcp

# Virtual Server for blogo mysql Master-Master Apache
virtual=10.0.16.105:mysql
        real=10.0.112.51:mysql gate 1
#        real=10.0.112.50:mysql gate 1
        service=mysql
        login="monitor"
        passwd="...m0n1t0r..."
        database="mysql"
        request="select (1) from user"
        scheduler=wrr
        protocol=tcp

# Virtual Server for blogo python web-fe DE
virtual=10.0.16.107:www
       real=10.0.232.240:www gate 10
       real=10.0.232.241:www gate 10
        service=http
        request="/.testpage.html"
        receive="test"
        scheduler=wrr
        protocol=tcp

# Virtual Server for TESTING MONGODB
virtual=10.0.16.109:27021
 	real=10.0.232.66:27021 gate 100
 	real=10.0.232.67:27021 gate 100
 	real=10.0.232.68:27021 gate 100
 	real=10.0.232.69:27021 gate 100
 	real=10.0.232.57:27021 gate 100
 	real=10.0.232.58:27021 gate 100
        service=http
        request="/"
	receive="1000"
        scheduler=wrr
        protocol=tcp
